   /* Layer Cards Container */
                            .layer-control-group {
                                display: grid;
                                grid-template-columns: repeat(2, 1fr);
                                gap: 12px;
                                margin-bottom: 16px;
                            }

                            /* Layer Card Styles */
                            .layer-card {
                                position: relative;
                                border-radius: 12px;
                                overflow: hidden;
                                transition: all 0.3s ease;
                                border: 2px solid var(--bs-border-color);
                                background: var(--bs-card-bg);
                            }

                            .layer-card:hover {
                                transform: translateY(-2px);
                                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
                                border-color: var(--bs-primary);
                            }

                            .layer-radio {
                                display: none;
                            }

                            .layer-radio:checked + .layer-card-content {
                                border-color: var(--bs-primary);
                            }

                            .layer-radio:checked + .layer-card-content .layer-preview {
                                border-color: var(--bs-primary);
                            }

                            .layer-radio:checked + .layer-card-content .selected-icon {
                                opacity: 1;
                                transform: scale(1);
                            }

                            .layer-radio:checked + .layer-card-content .layer-image {
                                transform: scale(1.05);
                            }

                            .layer-card-content {
                                display: block;
                                cursor: pointer;
                                border-radius: 10px;
                                transition: all 0.3s ease;
                                border: 2px solid transparent;
                            }

                            /* Layer Preview with Images */
                            .layer-preview {
                                position: relative;
                                height: 90px;
                                border-radius: 8px 8px 0 0;
                                overflow: hidden;
                                border: 1px solid var(--bs-border-color);
                                transition: all 0.3s ease;
                            }

                            .layer-image {
                                width: 100%;
                                height: 100%;
                                object-fit: cover;
                                transition: all 0.3s ease;
                            }

                            .layer-card:hover .layer-image {
                                transform: scale(1.05);
                            }

                            /* Layer Overlay */
                            .layer-overlay {
                                position: absolute;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background: linear-gradient(135deg, 
                                    rgba(var(--bs-primary-rgb), 0.2) 0%, 
                                    rgba(var(--bs-primary-rgb), 0.1) 50%,
                                    transparent 100%);
                                display: flex;
                                align-items: flex-end;
                                justify-content: flex-end;
                                padding: 8px;
                                opacity: 0;
                                transition: all 0.3s ease;
                            }

                            .layer-card:hover .layer-overlay {
                                opacity: 1;
                            }

                            .selected-icon {
                                color: var(--bs-primary);
                                font-size: 20px;
                                opacity: 0;
                                transform: scale(0.8);
                                transition: all 0.3s ease;
                                filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
                                background: rgba(255, 255, 255, 0.9);
                                border-radius: 50%;
                                padding: 2px;
                            }

                            /* Layer Info */
                            .layer-info {
                                padding: 12px;
                                display: flex;
                                align-items: center;
                                gap: 8px;
                                background: var(--bs-card-bg);
                                border-top: 1px solid var(--bs-border-color);
                                transition: all 0.3s ease;
                            }

                            .layer-card:hover .layer-info {
                                background: var(--bs-secondary-bg);
                            }

                            .layer-icon {
                                color: var(--bs-primary);
                                font-size: 14px;
                                width: 16px;
                                text-align: center;
                            }

                            .layer-name {
                                font-weight: 600;
                                color: var(--bs-heading-color);
                                font-size: 14px;
                                transition: all 0.3s ease;
                            }

                            .layer-card:hover .layer-name {
                                color: var(--bs-primary);
                            }

                            /* Opacity Control */
                            .opacity-control {
                                background: var(--bs-secondary-bg);
                                padding: 16px;
                                border-radius: 8px;
                                border: 1px solid var(--bs-border-color);
                            }

                            .opacity-title {
                                color: var(--bs-heading-color);
                                font-size: 14px;
                                font-weight: 600;
                                margin-bottom: 12px;
                                display: flex;
                                align-items: center;
                            }

                            .slider-container {
                                position: relative;
                            }

                            .base-opacity-slider {
                                width: 100%;
                                height: 6px;
                                border-radius: 3px;
                                background: var(--bs-border-color);
                                outline: none;
                                -webkit-appearance: none;
                            }

                            .base-opacity-slider::-webkit-slider-thumb {
                                -webkit-appearance: none;
                                appearance: none;
                                width: 18px;
                                height: 18px;
                                border-radius: 50%;
                                background: var(--bs-primary);
                                cursor: pointer;
                                border: 2px solid var(--bs-card-bg);
                                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
                                transition: all 0.3s ease;
                            }

                            .base-opacity-slider::-webkit-slider-thumb:hover {
                                transform: scale(1.2);
                                box-shadow: 0 4px 12px rgba(var(--bs-primary-rgb), 0.4);
                            }

                            .base-opacity-slider::-moz-range-thumb {
                                width: 18px;
                                height: 18px;
                                border-radius: 50%;
                                background: var(--bs-primary);
                                cursor: pointer;
                                border: 2px solid var(--bs-card-bg);
                                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
                            }

                            .slider-labels {
                                display: flex;
                                justify-content: space-between;
                                margin-top: 8px;
                                font-size: 12px;
                                color: var(--bs-muted-color);
                            }

                            /* Active State for Selected Layer */
                            .layer-radio:checked + .layer-card-content .layer-overlay {
                                opacity: 1;
                                background: linear-gradient(135deg, 
                                    rgba(var(--bs-primary-rgb), 0.3) 0%, 
                                    rgba(var(--bs-primary-rgb), 0.2) 50%,
                                    transparent 100%);
                            }

                            .layer-radio:checked + .layer-card-content .layer-info {
                                background: rgba(var(--bs-primary-rgb), 0.05);
                                border-top-color: var(--bs-primary);
                            }

                            .layer-radio:checked + .layer-card-content .layer-name {
                                color: var(--bs-primary);
                                font-weight: 700;
                            }

                            /* Loading State for Images */
                            .layer-image {
                                background: linear-gradient(90deg, 
                                    var(--bs-border-color) 25%, 
                                    var(--bs-secondary-bg) 50%, 
                                    var(--bs-border-color) 75%);
                                background-size: 200% 100%;
                                animation: loading 1.5s infinite;
                            }

                            @keyframes loading {
                                0% {
                                    background-position: 200% 0;
                                }
                                100% {
                                    background-position: -200% 0;
                                }
                            }

                            .layer-image.loaded {
                                animation: none;
                                background: none;
                            }

                            /* Responsive Design */
                            @media (max-width: 768px) {
                                .layer-control-group {
                                    grid-template-columns: 1fr;
                                    gap: 10px;
                                }
                                
                                .layer-preview {
                                    height: 80px;
                                }
                                
                                .layer-info {
                                    padding: 10px;
                                }
                                
                                .opacity-control {
                                    padding: 12px;
                                }
                            }

                            /* Dark Mode Enhancements */
                            :root[data-bs-theme="dark"] .layer-image {
                                filter: brightness(0.9) contrast(1.1);
                            }

                            :root[data-bs-theme="dark"] .layer-card:hover .layer-image {
                                filter: brightness(1.1) contrast(1.05);
                            }

                            :root[data-bs-theme="dark"] .selected-icon {
                                background: rgba(0, 0, 0, 0.7);
                                color: var(--bs-primary);
                            }

                            /* Focus States for Accessibility */
                            .layer-card-content:focus {
                                outline: 2px solid var(--bs-primary);
                                outline-offset: 2px;
                            }

                            .base-opacity-slider:focus {
                                outline: 2px solid var(--bs-primary);
                                outline-offset: 2px;
                            }

                            /* Section Toggle Animation */
                            .section-content {
                                transition: all 0.3s ease;
                                overflow: hidden;
                            }

                            .section-content.collapsed {
                                display: none;
                            }

                            .toggle-icon {
                                transition: transform 0.3s ease;
                            }

                            .section-header.active .toggle-icon {
                                transform: rotate(180deg);
                            }


                               /* Draggable modal styles for pure JavaScript approach */
.modal-dialog-draggable {
    position: fixed;
    margin: 0;
    max-width: 600px;
    cursor: grab;
    transition: transform 0.1s ease;
}

.modal-dialog-draggable:active {
    cursor: grabbing;
}

.draggable-handle {
    cursor: grab;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

.draggable-handle:active {
    cursor: grabbing;
}

/* Ensure modal backdrop covers the entire screen */
/* .modal-backdrop {
    z-index: 1040;
} */

/* .modal-dialog-draggable {
    z-index: 1050;
} */

/* Optional: Add some styling to make it look like a floating window */
.modal-dialog-draggable .modal-content {
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    border: none;
}

.modal-dialog-draggable .modal-header {
    /* background: linear-gradient(135deg, #0871B9, #065a94); */
    color: white;
    border-radius: 10px 10px 0 0;
    padding: 15px 20px;
    border-bottom: none;
}

.modal-dialog-draggable .modal-header .btn-close {
    filter: invert(1);
    opacity: 0.8;
}

.modal-dialog-draggable .modal-header .btn-close:hover {
    opacity: 1;
}


 /* Administrative Boundaries Styles */
                                .style-controls {
                                    background: var(--bs-secondary-bg);
                                    padding: 16px;
                                    border-radius: 8px;
                                    border: 1px solid var(--bs-border-color);
                                }

                                .style-title {
                                    color: var(--bs-heading-color);
                                    font-size: 14px;
                                    font-weight: 600;
                                    margin-bottom: 12px;
                                    display: flex;
                                    align-items: center;
                                }

                                .color-picker-group {
                                    display: flex;
                                    align-items: center;
                                    justify-content: space-between;
                                    gap: 12px;
                                }

                                .color-label {
                                    font-size: 12px;
                                    color: var(--bs-muted-color);
                                    font-weight: 500;
                                    min-width: 80px;
                                }

                                .form-control-color {
                                    width: 40px;
                                    height: 30px;
                                    border: 2px solid var(--bs-border-color);
                                    border-radius: 6px;
                                    cursor: pointer;
                                    transition: all 0.3s ease;
                                }

                                .form-control-color:hover {
                                    border-color: var(--bs-primary);
                                    transform: scale(1.1);
                                }

                                .weight-control {
                                    margin-top: 16px;
                                }

                                .weight-label {
                                    font-size: 12px;
                                    color: var(--bs-muted-color);
                                    font-weight: 500;
                                    margin-bottom: 8px;
                                    display: block;
                                }

                                .line-weight-slider {
                                    width: 100%;
                                    height: 6px;
                                    border-radius: 3px;
                                    background: var(--bs-border-color);
                                    outline: none;
                                    -webkit-appearance: none;
                                }

                                .line-weight-slider::-webkit-slider-thumb {
                                    -webkit-appearance: none;
                                    appearance: none;
                                    width: 16px;
                                    height: 16px;
                                    border-radius: 50%;
                                    background: var(--bs-primary);
                                    cursor: pointer;
                                    border: 2px solid var(--bs-card-bg);
                                    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
                                }

                                /* Legend for Administrative Boundaries */
                                .legend-group {
                                    margin-bottom: 16px;
                                }

                                .legend-group-title {
                                    font-size: 13px;
                                    font-weight: 600;
                                    color: var(--bs-heading-color);
                                    margin-bottom: 8px;
                                    display: flex;
                                    align-items: center;
                                }

                                .legend-item {
                                    margin-bottom: 4px;
                                }

                                .legend-color {
                                    width: 16px;
                                    height: 16px;
                                    border-radius: 3px;
                                    margin-right: 8px;
                                    border: 1px solid var(--bs-border-color);
                                }