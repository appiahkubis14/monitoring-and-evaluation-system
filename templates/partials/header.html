{% load i18n static %}
<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> -->

<!-- Start topbar -->
<header id="page-topbar">
    <div class="navbar-header">
       
        <div class="navbar-logo-box">
            <div style="display: flex; align-items: center; gap: 16px; padding: 10px;padding-top: 20px;">
                <a href="/" class="logo logo-dark" style="display: flex; align-items: center;">
                    <span class="logo-sm" style="display: none;">
                        <img src="{% static 'images/geximbank_logo.png' %}" alt="logo-sm-dark" style="width: 60px;" height="70">
                    </span>
                    <span class="logo-lg">
                        <img src="{% static 'images/geximbank_logo.png' %}" alt="logo-dark" style="width: 60px;"  height="70">
                    </span>
                </a>
                <!-- <a href="/dashboard/">
                    <div style="display: flex; flex-direction: column;align-items: center;">
                        <a href="/" class="logo logo-light">
                            <span class="logo-sm">
                                <img src="{% static 'images/geximbank_logo.png' %}" alt="logo-sm-light" style="width: 40px;"  height="30">
                            </span>
                            <span class="logo-lg">
                                <img src="{% static 'images/geximbank_logo.png' %}" alt="logo-light"  style="width: 40px;"  height="30">
                            </span>
                        </a>
                        
                    </div>
                    
                </a> -->
            </div>

            

            <button type="button" class="btn btn-sm top-icon sidebar-btn" id="sidebar-btn">
                <i class="mdi mdi-menu-open align-middle fs-19"></i>
            </button>
        </div>
 
        <div class="d-flex justify-content-between menu-sm px-3 ms-auto">
            <div class="d-flex align-items-center gap-2">
                <div class="dropdown d-none d-lg-block">
                    <!-- <button type="button" class="btn btn-primary btn-sm fs-14 d-inline" data-bs-toggle="dropdown">
                        Apps
                        <i class="mdi mdi-chevron-down align-middle"></i>
                    </button> -->
                    <div class="dropdown-menu dropdown-menu-start dropdown-menu-animated">
                        <a href="#" class="dropdown-item">
                            <div class="dropdown-icon"><i class="fa fa-boxes"></i></div>
                            <span class="dropdown-content">Inventory Manager</span>
                            <div class="dropdown-addon"><span class="badge badge-warning rounded-pill">20</span></div>
                        </a>
                        <div class="dropdown-submenu">
                            <a href="#" class="dropdown-item">
                                <div class="dropdown-icon"><i class="fa fa-project-diagram"></i></div>
                                <span class="dropdown-content">Project manager</span>
                                <div class="dropdown-addon"><i class="mdi mdi-chevron-right align-middle"></i></div>
                            </a>
                            <div class="dropdown-submenu-menu dropdown-submenu-end">
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Create project</span> </a>
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Delete project</span> </a>
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Ongoing project</span> </a>
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Completed project</span> </a>
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Urgent project</span></a>
                            </div>
                        </div>
                        <div class="dropdown-submenu">
                            <a href="#" class="dropdown-item">
                                <div class="dropdown-icon"><i class="fa fa-tasks"></i></div>
                                <span class="dropdown-content">Task manager</span>
                                <div class="dropdown-addon"><i class="mdi mdi-chevron-right align-middle"></i></div>
                            </a>
                            <div class="dropdown-submenu-menu dropdown-submenu-end">
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Show task</span> </a>
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Assign task</span> </a>
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Assign member</span> </a>
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Completed task</span> </a>
                                <a href="#" class="dropdown-item"><i class="dropdown-bullet"></i> <span class="dropdown-content">Urgent task</span></a>
                            </div>
                        </div>
                        <a href="#" class="dropdown-item">
                            <div class="dropdown-icon"><i class="fa fa-dollar-sign"></i></div>
                            <span class="dropdown-content">Invoice</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="apps-contact.html" class="dropdown-item">
                            <div class="dropdown-icon"><i class="fa fa-user-cog"></i></div>
                            <span class="dropdown-content">My Account</span>
                        </a>
                    </div>
                </div>

                <div class="dropdown d-none d-lg-block">
                    <!-- <button type="button" class="btn btn-primary btn-sm fs-14" data-bs-toggle="dropdown" aria-haspopup="false" aria-expanded="false">
                        Features
                        <i class="mdi mdi-chevron-down align-middle"></i>
                    </button> -->
                    <div class="dropdown-menu dropdown-menu-start dropdown-menu-lg-widest dropdown-menu-widest dropdown-menu-animated bg-primary-subtle overflow-hidden">
                        <div class="dropdown-row justify-content-center">
                            <div class="p-2 menu-image">
                                <img src="{% static 'images/mega-menu.png' %}" alt="mega-menu image" class="img-fluid" style="height: 200px;">
                            </div>
                            <div class="dropdown-col">
                                <h2 class="">Welcome back!</h2>
                                <p class="text-muted mb-0">
                                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusantium, commodi hic qui aspernatur doloremque quos tempora placeat culpa illum, voluptatibus delectus provident cumque
                                    aliquid enim, laborum aliquam. Quod, perferendis unde.
                                </p>
                                <div class="mt-3">
                                    <a href="auth-login.html" class="btn btn-dark btn-wider">Login</a>
                                </div>
                            </div>
                            <div class="dropdown-col border-start border-primary border-opacity-50">
                                <h4 class="dropdown-header">Features</h4>
                                <div class="grid-nav grid-nav-action">
                                    <div class="grid-nav-row">
                                        <a href="/" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-window-restore"></i></div>
                                            <span class="grid-nav-content">Dashboard</span>
                                        </a>
                                        <a href="apps-kanban.html" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-clipboard"></i></div>
                                            <span class="grid-nav-content">TODO List</span>
                                        </a>
                                        <a href="#" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-question-circle"></i></div>
                                            <span class="grid-nav-content">Help Center</span>
                                        </a>
                                    </div>
                                    <div class="grid-nav-row">
                                        <a href="#" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-images"></i></div>
                                            <span class="grid-nav-content">Gallery</span>
                                        </a>
                                        <a href="#" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-chart-bar"></i></div>
                                            <span class="grid-nav-content">Scrumboard</span>
                                        </a>
                                        <a href="#" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-bookmark"></i></div>
                                            <span class="grid-nav-content">Docs</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="dropdown-col border-start border-primary border-opacity-50">
                                <h4 class="dropdown-header">Tools</h4>
                                <a href="#" class="dropdown-item"><i class="mdi mdi-checkbox-blank-circle align-middle dropdown-bullet me-2"></i> <span class="dropdown-content">Components</span> </a>
                                <a href="#" class="dropdown-item"><i class="mdi mdi-checkbox-blank-circle align-middle dropdown-bullet me-2"></i> <span class="dropdown-content">Form Wizard</span> </a>
                                <a href="#" class="dropdown-item"><i class="mdi mdi-checkbox-blank-circle align-middle dropdown-bullet me-2"></i> <span class="dropdown-content">Documentation</span> </a>
                                <a href="#" class="dropdown-item"><i class="mdi mdi-checkbox-blank-circle align-middle dropdown-bullet me-2"></i> <span class="dropdown-content">Knowledge Base</span> </a>
                                <a href="#" class="dropdown-item"><i class="mdi mdi-checkbox-blank-circle align-middle dropdown-bullet me-2"></i> <span class="dropdown-content">Inventory Manager</span></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="d-flex align-items-center gap-2">

                <div class="d-flex align-items-center gap-2">
                    <!-- Dark Mode Toggle Button -->
                    <button id="fullscreen-toggle" class="btn btn-sm top-icon">
                        <i class="fas fa-maximize"></i> <!-- Moon Icon for Dark Mode -->
                    </button>
                </div>
                <div class="d-flex align-items-center gap-2">
                    <!-- Dark Mode Toggle Button -->
                    <button id="theme-toggle" class="btn btn-sm top-icon">
                        <i class="fas fa-moon"></i> <!-- Moon Icon for Dark Mode -->
                    </button>
                </div>

                 <script>
                        document.addEventListener('DOMContentLoaded', () => {
                        const toggleBtn = document.getElementById('fullscreen-toggle');
                        
                        toggleBtn.addEventListener('click', toggleFullscreen);
                        
                        function toggleFullscreen() {
                            if (!document.fullscreenElement) {
                            document.documentElement.requestFullscreen().catch(err => {
                                console.error(`Error attempting to enable fullscreen: ${err.message}`);
                            });
                            } else {
                            if (document.exitFullscreen) {
                                document.exitFullscreen();
                            }
                            }
                        }

                    });

                    </script>
                
                
                <style>
                   /* === Theme Variables === */
                    /* === Theme Variables === */
                :root[data-bs-theme="light"] {
                --bs-light: #f8f9fa;
                --bs-light-rgb: 248, 249, 250;
                --bs-dark: #0e2e4e;
                --bs-dark-rgb: 44, 62, 80;
                --bs-box-shadow: 0 0 35px 0 rgba(73, 80, 87, 0.15);
                
                /* Body */
                --bs-body-color: #25384b;
                --bs-body-color-rgb: 52, 77, 102;
                --bs-body-bg: #f7f9fa;
                --bs-body-bg-rgb: 247, 249, 250;
                
                /* Components */
                --bs-secondary-bg: #ffffff;
                --bs-tertiary-bg: #f8f9fa;
                --bs-border-color: #e9ecef;
                --bs-card-bg: #ffffff;
                --bs-dropdown-bg: #ffffff;
                --bs-modal-bg: #ffffff;
                
                /* Text Colors */
                --bs-heading-color: #2c3e50;
                --bs-muted-color: #6c757d;
                
                /* Links */
                --bs-link-color: #50C878;
                --bs-link-hover-color: #3da864;
                
                /* Buttons */
                --bs-primary: #50C878;
                --bs-primary-rgb: 80, 200, 120;
                --bs-secondary: #6c757d;
                --bs-success: #198754;
                --bs-info: #0dcaf0;
                --bs-warning: #ffc107;
                --bs-danger: #dc3545;
                
                /* Header & Navigation */
                --bs-header-bg: #ffffff;
                --bs-header-color: #495057;
                --bs-header-border: #e9ecef;
                }

                :root[data-bs-theme="dark"] {
                --bs-light: #162647;
                --bs-light-rgb: 26, 29, 35;
                --bs-dark: #f8f9fa;
                --bs-dark-rgb: 248, 249, 250;
                --bs-box-shadow: 0 0 35px 0 rgba(0, 0, 0, 0.5);
                
                /* Body */
                --bs-body-color: #b8c2cc;
                --bs-body-color-rgb: 184, 194, 204;
                --bs-body-bg: #12141a;
                --bs-body-bg-rgb: 18, 20, 26;
                
                /* Components */
                --bs-secondary-bg: #1a1d23;
                --bs-tertiary-bg: #23272e;
                --bs-border-color: #2a2f3c;
                --bs-card-bg: #0a1429;
                --bs-dropdown-bg: #1a1d23;
                --bs-modal-bg: #1a1d23;
                
                /* Text Colors */
                --bs-heading-color: #e9ecef;
                --bs-muted-color: #8a99ad;
                
                /* Links */
                --bs-link-color: #64d88a;
                --bs-link-hover-color: #8ae4a6;
                
                /* Buttons */
                --bs-primary: #64d88a;
                --bs-primary-rgb: 100, 216, 138;
                --bs-secondary: #8a99ad;
                --bs-success: #20c997;
                --bs-info: #3dd5f3;
                --bs-warning: #ffca2c;
                --bs-danger: #e35d6a;
                
                /* Header & Navigation */
                --bs-header-bg: #1a1d23;
                --bs-header-color: #b8c2cc;
                --bs-header-border: #2a2f3c;
                }

                /* === Menu Colors === */
                :root[data-menu-color="light"] {
                --bs-menu-bg: #ffffff;
                --bs-menu-item-color: #495057;
                --bs-menu-item-hover-color: #50C878;
                --bs-menu-item-hover-bg: rgba(80, 200, 120, 0.1);
                --bs-menu-item-active-color: #50C878;
                --bs-menu-item-active-bg: rgba(13, 28, 59, 0.15);
                --bs-menu-border-color: #e9ecef;
                }

                :root[data-bs-theme="dark"][data-menu-color="light"],
                :root[data-menu-color="dark"] {
                --bs-menu-bg: #071124;
                --bs-menu-item-color: #b8c2cc;
                --bs-menu-item-hover-color: #64d88a;
                --bs-menu-item-hover-bg: rgba(100, 216, 138, 0.15);
                --bs-menu-item-active-color: #64d88a;
                --bs-menu-item-active-bg: rgba(100, 216, 138, 0.2);
                --bs-menu-border-color: #2a2f3c;
                }

                :root[data-menu-color="brand"] {
                --bs-menu-bg: #50C878;
                --bs-menu-item-color: rgba(255, 255, 255, 0.9);
                --bs-menu-item-hover-color: #ffffff;
                --bs-menu-item-hover-bg: rgba(255, 255, 255, 0.2);
                --bs-menu-item-active-color: #ffffff;
                --bs-menu-item-active-bg: rgba(255, 255, 255, 0.25);
                --bs-menu-border-color: rgba(255, 255, 255, 0.15);
                }

                :root[data-bs-theme="dark"][data-menu-color="brand"] {
                --bs-menu-bg: #100725;
                --bs-menu-item-color: rgba(255, 255, 255, 0.95);
                --bs-menu-item-hover-color: #ffffff;
                --bs-menu-item-hover-bg: rgba(255, 255, 255, 0.25);
                --bs-menu-item-active-color: #ffffff;
                --bs-menu-item-active-bg: rgba(255, 255, 255, 0.3);
                }

                /* === Topbar Colors === */
                :root[data-topbar-color="light"] {
                --bs-topbar-bg: #ffffff;
                --bs-topbar-item-color: #495057;
                --bs-topbar-item-hover-color: #50C878;
                --bs-topbar-search-bg: #f8f9fa;
                --bs-topbar-user-border: #e9ecef;
                --bs-topbar-border-color: #e9ecef;
                }

                :root[data-bs-theme="dark"][data-topbar-color="light"],
                :root[data-topbar-color="dark"] {
                --bs-topbar-bg: #1a1d23;
                --bs-topbar-item-color: #b8c2cc;
                --bs-topbar-item-hover-color: #64d88a;
                --bs-topbar-search-bg: #23272e;
                --bs-topbar-user-border: #2a2f3c;
                --bs-topbar-border-color: #2a2f3c;
                }

                :root[data-topbar-color="brand"] {
                --bs-topbar-bg: #50C878;
                --bs-topbar-item-color: rgba(255, 255, 255, 0.95);
                --bs-topbar-item-hover-color: #ffffff;
                --bs-topbar-search-bg: rgba(255, 255, 255, 0.15);
                --bs-topbar-user-border: rgba(255, 255, 255, 0.2);
                --bs-topbar-border-color: rgba(255, 255, 255, 0.15);
                }

                :root[data-bs-theme="dark"][data-topbar-color="brand"] {
                --bs-topbar-bg: #64d88a;
                --bs-topbar-item-color: rgba(255, 255, 255, 0.95);
                --bs-topbar-item-hover-color: #ffffff;
                --bs-topbar-search-bg: rgba(255, 255, 255, 0.2);
                --bs-topbar-user-border: rgba(255, 255, 255, 0.25);
                }

                /* === Theme Toggle Button === */
                #theme-toggle {
                background-color: var(--bs-primary);
                color: white;
                border: none;
                border-radius: 8px;
                padding: 10px 16px;
                display: flex;
                align-items: center;
                gap: 8px;
                font-size: 14px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.3s ease;
                box-shadow: 0 2px 8px rgba(var(--bs-primary-rgb), 0.3);
                }

                #theme-toggle i {
                font-size: 16px;
                transition: transform 0.3s ease;
                }

                #theme-toggle:hover {
                background-color: var(--bs-link-hover-color);
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(var(--bs-primary-rgb), 0.4);
                }

                #theme-toggle:active {
                transform: translateY(0);
                box-shadow: 0 2px 6px rgba(var(--bs-primary-rgb), 0.3);
                }

                #theme-toggle:hover i {
                transform: rotate(15deg);
                }

                /* === Fullscreen Toggle Button === */
                #fullscreen-toggle {
                background-color: var(--bs-secondary-bg);
                color: var(--bs-topbar-item-color);
                border: 1px solid var(--bs-border-color);
                border-radius: 8px;
                padding: 10px 16px;
                display: flex;
                align-items: center;
                gap: 8px;
                font-size: 14px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.3s ease;
                }

                #fullscreen-toggle:hover {
                background-color: var(--bs-menu-item-hover-bg);
                color: var(--bs-menu-item-hover-color);
                border-color: var(--bs-primary);
                transform: translateY(-2px);
                box-shadow: var(--bs-box-shadow);
                }

                /* === Top Icon Buttons === */
                .btn.top-icon {
                background-color: var(--bs-topbar-bg);
                color: var(--bs-topbar-item-color);
                border: 1px solid var(--bs-border-color);
                border-radius: 8px;
                padding: 10px 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.3s ease;
                }

                .btn.top-icon:hover {
                background-color: var(--bs-menu-item-hover-bg);
                color: var(--bs-menu-item-hover-color);
                border-color: var(--bs-primary);
                transform: translateY(-2px);
                box-shadow: var(--bs-box-shadow);
                }

                /* === Header Styling === */
                #page-topbar {
                background-color: var(--bs-topbar-bg);
                border-bottom: 1px solid var(--bs-topbar-border-color);
                box-shadow: var(--bs-box-shadow);
                }

                .navbar-logo-box {
                background-color: var(--bs-topbar-bg);
                }

                /* === Dropdown Menus === */
                .dropdown-menu {
                background-color: var(--bs-dropdown-bg);
                border: 1px solid var(--bs-border-color);
                box-shadow: var(--bs-box-shadow);
                }

                .dropdown-item {
                color: var(--bs-body-color);
                transition: all 0.3s ease;
                }

                .dropdown-item:hover {
                background-color: var(--bs-menu-item-hover-bg);
                color: var(--bs-menu-item-hover-color);
                }

                /* === Cards === */
                .card {
                background-color: var(--bs-card-bg);
                border: 1px solid var(--bs-border-color);
                box-shadow: var(--bs-box-shadow);
                }

                .card-header {
                background-color: var(--bs-secondary-bg);
                border-bottom: 1px solid var(--bs-border-color);
                color: var(--bs-heading-color);
                }

                /* === Tables === */
                .table {
                --bs-table-bg: var(--bs-card-bg);
                --bs-table-color: var(--bs-body-color);
                --bs-table-border-color: var(--bs-border-color);
                }

                .table th {
                background-color: var(--bs-secondary-bg);
                color: var(--bs-heading-color);
                border-color: var(--bs-border-color);
                }

                .table td {
                border-color: var(--bs-border-color);
                }

                /* === Forms === */
                .form-control {
                background-color: var(--bs-secondary-bg);
                border: 1px solid var(--bs-border-color);
                color: var(--bs-body-color);
                }

                .form-control:focus {
                background-color: var(--bs-secondary-bg);
                border-color: var(--bs-primary);
                color: var(--bs-body-color);
                box-shadow: 0 0 0 0.2rem rgba(var(--bs-primary-rgb), 0.25);
                }

                .form-select {
                background-color: var(--bs-secondary-bg);
                border: 1px solid var(--bs-border-color);
                color: var(--bs-body-color);
                }

                .form-label {
                color: var(--bs-heading-color);
                }

                /* === Modals === */
                .modal-content {
                background-color: var(--bs-modal-bg);
                border: 1px solid var(--bs-border-color);
                box-shadow: var(--bs-box-shadow);
                }

                .modal-header {
                background-color: var(--bs-secondary-bg);
                border-bottom: 1px solid var(--bs-border-color);
                color: var(--bs-heading-color);
                }

                .modal-footer {
                background-color: var(--bs-secondary-bg);
                border-top: 1px solid var(--bs-border-color);
                }

                .modal-backdrop {
                background-color: rgba(0, 0, 0, 0.5);
                }

                .modal-backdrop.show {
                opacity: 0.5;
                }

                /* === Progress Bars === */
                .progress {
                background-color: var(--bs-tertiary-bg);
                }

                .progress-bar {
                background-color: var(--bs-primary);
                }

                /* === Badges === */
                .badge {
                color: white;
                }

                .badge.bg-success { background-color: var(--bs-success) !important; }
                .badge.bg-info { background-color: var(--bs-info) !important; }
                .badge.bg-warning { background-color: var(--bs-warning) !important; }
                .badge.bg-danger { background-color: var(--bs-danger) !important; }
                .badge.bg-primary { background-color: var(--bs-primary) !important; }

                /* === Navigation Tabs === */
                .nav-tabs {
                border-bottom-color: var(--bs-border-color);
                }

                .nav-tabs .nav-link {
                color: var(--bs-body-color);
                background-color: var(--bs-secondary-bg);
                border-color: var(--bs-border-color);
                }

                .nav-tabs .nav-link.active {
                background-color: var(--bs-card-bg);
                border-bottom-color: var(--bs-card-bg);
                color: var(--bs-primary);
                font-weight: bold;
                }

                .nav-tabs .nav-link:hover {
                border-color: var(--bs-primary);
                color: var(--bs-primary);
                }

                /* === Buttons === */
                .btn-primary {
                background-color: var(--bs-primary);
                border-color: var(--bs-primary);
                color: white;
                }

                .btn-primary:hover {
                background-color: var(--bs-link-hover-color);
                border-color: var(--bs-link-hover-color);
                transform: translateY(-1px);
                box-shadow: 0 4px 8px rgba(var(--bs-primary-rgb), 0.3);
                }

                .btn-secondary {
                background-color: var(--bs-secondary);
                border-color: var(--bs-secondary);
                }

                .btn-success { background-color: var(--bs-success); border-color: var(--bs-success); }
                .btn-info { background-color: var(--bs-info); border-color: var(--bs-info); }
                .btn-warning { background-color: var(--bs-warning); border-color: var(--bs-warning); }
                .btn-danger { background-color: var(--bs-danger); border-color: var(--bs-danger); }

                /* === Footer === */
                .footer {
                background-color: var(--bs-secondary-bg);
                border-top: 1px solid var(--bs-border-color);
                color: var(--bs-body-color);
                }

                /* === Smooth Transitions === */
                /* * {
                transition: background-color 0.3s ease, border-color 0.3s ease, 
                            color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
                } */

                body {
                background-color: var(--bs-body-bg);
                color: var(--bs-body-color);
                }

                h1, h2, h3, h4, h5, h6 {
                color: var(--bs-heading-color);
                }

                .text-muted {
                color: var(--bs-muted-color) !important;
                }

                /* === Custom Scrollbar === */
                ::-webkit-scrollbar {
                width: 8px;
                }

                ::-webkit-scrollbar-track {
                background: var(--bs-secondary-bg);
                }

                ::-webkit-scrollbar-thumb {
                background: var(--bs-border-color);
                border-radius: 4px;
                }

                ::-webkit-scrollbar-thumb:hover {
                background: var(--bs-primary);
                }

                /* === Notification Marker === */
                .btn-marker .marker-dot {
                background-color: var(--bs-danger);
                }

                /* === Profile Image === */
                .rounded.avatar-2xs {
                border: 2px solid var(--bs-topbar-user-border);
                }

                /* === Modal Specific Styles === */
                .modal-header.bg-primary {
                background: linear-gradient(135deg, var(--bs-primary) 0%, var(--bs-link-hover-color) 100%) !important;
                }

                .modal-header.bg-danger {
                background: linear-gradient(135deg, var(--bs-danger) 0%, #c82333 100%) !important;
                }

                .modal-header.bg-warning {
                background: linear-gradient(135deg, var(--bs-warning) 0%, #e0a800 100%) !important;
                }

                /* === Chart Container Background === */
                .chart-pie, .chart-bar {
                background-color: var(--bs-card-bg);
                border-radius: 8px;
                }

                /* === Select2 Customization === */
                .select2-container--default .select2-selection--multiple {
                background-color: var(--bs-secondary-bg);
                border: 1px solid var(--bs-border-color);
                color: var(--bs-body-color);
                }

                .select2-container--default .select2-selection--multiple .select2-selection__choice {
                background-color: var(--bs-primary);
                border-color: var(--bs-primary);
                color: white;
                }

                /* === Loading States === */
                .loading {
                opacity: 0.7;
                pointer-events: none;
                }

                /* === Responsive Adjustments === */
                @media (max-width: 768px) {
                #theme-toggle, #fullscreen-toggle, .btn.top-icon {
                    padding: 8px 12px;
                    font-size: 12px;
                }
                
                #theme-toggle i, #fullscreen-toggle i {
                    font-size: 14px;
                }
                }

                /* === Print Styles === */
                @media print {
                :root {
                    --bs-body-bg: white !important;
                    --bs-body-color: black !important;
                    --bs-card-bg: white !important;
                    --bs-border-color: #ddd !important;
                }
                }

                </style>
                
                
                <script>
                    // Theme toggle functionality
                document.querySelector("#theme-toggle").addEventListener("click", function() {
                    const html = document.documentElement;
                    const currentTheme = html.getAttribute('data-bs-theme');
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    
                    // Update theme attribute
                    html.setAttribute('data-bs-theme', newTheme);
                    
                    // Save theme preference
                    localStorage.setItem("theme", newTheme);
                    
                    // Update button icon
                    const icon = document.querySelector("#theme-toggle i");
                    if (newTheme === "dark") {
                        icon.classList.remove("fa-moon");
                        icon.classList.add("fa-sun");
                    } else {
                        icon.classList.remove("fa-sun");
                        icon.classList.add("fa-moon");
                    }
                });

                // Apply saved theme on page load
                document.addEventListener('DOMContentLoaded', function() {
                    const savedTheme = localStorage.getItem("theme") || "light";
                    const html = document.documentElement;
                    
                    html.setAttribute('data-bs-theme', savedTheme);
                    
                    // Set correct icon
                    const icon = document.querySelector("#theme-toggle i");
                    if (savedTheme === "dark") {
                        icon.classList.remove("fa-moon");
                        icon.classList.add("fa-sun");
                    } else {
                        // icon.classList.remove("fa-sun");/
                        icon.classList.add("fa-moon");
                    }
                });
                </script>
                

                <!-- Start Notification -->
                <div class="dropdown d-inline-block">
                    <button type="button" class="btn btn-sm top-icon" id="page-header-notifications-dropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-bell align-middle"></i>
                        <span class="btn-marker"><i class="marker marker-dot text-danger"></i><span>
                    </button>
                         
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-md dropdown-menu-end p-0" aria-labelledby="page-header-notifications-dropdown">
                        <div class="p-3 bg-info">
                            <div class="row align-items-center">
                                <div class="col">
                                    <h6 class="text-white m-0"><i class="far fa-bell me-2"></i> Notifications </h6>
                                </div>
                                <div class="col-auto">
                                    <a href="#!" class="badge bg-info-subtle text-info"> 8+</a>
                                </div>
                            </div>
                        </div>
                        <div data-simplebar style="max-height: 230px;">
                            <a href="" class="text-reset notification-item">
                                <div class="d-flex">
                                    <div class="avatar avatar-xs avatar-label-primary me-3">
                                        <span class="rounded fs-16">
                                            <i class="mdi mdi-file-document-outline"></i>
                                        </span>
                                    </div>
                                    <div class="flex-1">
                                        <h6 class="mb-1">New report has been recived</h6>
                                        <div class="fs-12 text-muted">
                                            <p class="mb-0"><i class="mdi mdi-clock-outline"></i> 3 min ago</p>
                                        </div>
                                    </div>
                                    <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                                </div>
                            </a>
                            <a href="" class="text-reset notification-item">
                                <div class="d-flex">
                                    <div class="avatar avatar-xs avatar-label-success me-3">
                                        <span class="rounded fs-16">
                                            <i class="mdi mdi-cart-variant"></i>
                                        </span>
                                    </div>
                                    <div class="flex-1">
                                        <h6 class="mb-1">Last order was completed</h6>
                                        <div class="fs-12 text-muted">
                                            <p class="mb-0"><i class="mdi mdi-clock-outline"></i> 1 hour ago</p>
                                        </div>
                                    </div>
                                    <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                                </div>
                            </a>
                            <a href="" class="text-reset notification-item">
                                <div class="d-flex">
                                    <div class="avatar avatar-xs avatar-label-danger me-3">
                                        <span class="rounded fs-16">
                                            <i class="mdi mdi-account-group"></i>
                                        </span>
                                    </div>
                                    <div class="flex-1">
                                        <h6 class="mb-1">Completed meeting canceled</h6>
                                        <div class="fs-12 text-muted">
                                            <p class="mb-0"><i class="mdi mdi-clock-outline"></i> 5 hour ago</p>
                                        </div>
                                    </div>
                                    <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                                </div>
                            </a>
                            <a href="" class="text-reset notification-item">
                                <div class="d-flex">
                                    <div class="avatar avatar-xs avatar-label-warning me-3">
                                        <span class="rounded fs-16">
                                            <i class="mdi mdi-send-outline"></i>
                                        </span>
                                    </div>
                                    <div class="flex-1">
                                        <h6 class="mb-1">New feedback received</h6>
                                        <div class="fs-12 text-muted">
                                            <p class="mb-0"><i class="mdi mdi-clock-outline"></i> 6 hour ago</p>
                                        </div>
                                    </div>
                                    <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                                </div>
                            </a>
                            <a href="" class="text-reset notification-item">
                                <div class="d-flex">
                                    <div class="avatar avatar-xs avatar-label-secondary me-3">
                                        <span class="rounded fs-16">
                                            <i class="mdi mdi-download-box"></i>
                                        </span>
                                    </div>
                                    <div class="flex-1">
                                        <h6 class="mb-1">New update was available</h6>
                                        <div class="fs-12 text-muted">
                                            <p class="mb-0"><i class="mdi mdi-clock-outline"></i> 1 day ago</p>
                                        </div>
                                    </div>
                                    <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                                </div>
                            </a>
                            <a href="" class="text-reset notification-item">
                                <div class="d-flex">
                                    <div class="avatar avatar-xs avatar-label-info me-3">
                                        <span class="rounded fs-16">
                                            <i class="mdi mdi-hexagram-outline"></i>
                                        </span>
                                    </div>
                                    <div class="flex-1">
                                        <h6 class="mb-1">Your password was changed</h6>
                                        <div class="fs-12 text-muted">
                                            <p class="mb-0"><i class="mdi mdi-clock-outline"></i> 2 day ago</p>
                                        </div>
                                    </div>
                                    <i class="mdi mdi-chevron-right align-middle ms-2"></i>
                                </div>
                            </a>
                        </div>
                        <div class="p-2 border-top">
                            <div class="d-grid">
                                <a class="btn btn-sm btn-link font-size-14 text-center" href="javascript:void(0)">
                                    <i class="mdi mdi-arrow-right-circle me-1"></i> View More..
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Notification -->


                <!-- Start Activities -->
                <div class="d-inline-block activities">
                    <button type="button" class="btn btn-sm top-icon" data-bs-toggle="offcanvas" data-bs-target="#offcanvas-rightsidabar">
                        <i class="fas fa-table align-middle"></i>
                    </button>
                </div>
                <!-- End Activities -->

                <!-- Start Profile -->
                <div class="dropdown d-inline-block">
                    <button type="button" class="btn btn-sm top-icon p-0" id="page-header-user-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img class="rounded avatar-2xs p-0" src="{% static 'images/users/avatar-6.png' %}" alt="Header Avatar">
                    </button>
                    <div class="dropdown-menu dropdown-menu-wide dropdown-menu-end dropdown-menu-animated overflow-hidden py-0">
                        <div class="card border-0">
                            <div class="card-header bg-primary rounded-0">
                                <div class="rich-list-item w-100 p-0">
                                    <div class="rich-list-prepend">
                                        <div class="avatar avatar-label-light avatar-circle">
                                            <div class="avatar-display"><i class="fa fa-user-alt"></i></div>
                                        </div>
                                    </div>
                                    <div class="rich-list-content">
                                        <h3 class="rich-list-title text-white">{{ user.username }}</h3>
                                        <span class="rich-list-subtitle text-white">{{ user.email }}  {{"-"}}   {{user.employee_profile.position}}</span>
                                    </div>
                                    <div class="rich-list-append"><span class="badge badge-label-light fs-6">6+</span></div>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <div class="grid-nav grid-nav-flush grid-nav-action grid-nav-no-rounded">
                                    <div class="grid-nav-row">
                                        <a href="#" class="grid-nav-item" data-bs-toggle="modal" data-bs-target="#profileModal">
                                            <div class="grid-nav-icon"><i class="far fa-address-card"></i></div>
                                            <span class="grid-nav-content">Profile</span>
                                          </a>
                                          
                                        <a href="#!" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-comments"></i></div>
                                            <span class="grid-nav-content">Messages</span>
                                        </a>
                                        <a href="#!" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-clone"></i></div>
                                            <span class="grid-nav-content">Activities</span>
                                        </a>
                                    </div>
                                    <div class="grid-nav-row">
                                        <a href="#!" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-calendar-check"></i></div>
                                            <span class="grid-nav-content">Tasks</span>
                                        </a>
                                        <a href="#!" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-sticky-note"></i></div>
                                            <span class="grid-nav-content">Notes</span>
                                        </a>
                                        <a href="#!" class="grid-nav-item">
                                            <div class="grid-nav-icon"><i class="far fa-bell"></i></div>
                                            <span class="grid-nav-content">Notification</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer card-footer-bordered rounded-0"><a href="/logout" data-bs-toggle="modal" data-bs-target="#modal8" class="btn btn-label-danger">Sign out</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Profile -->
            </div>
        </div>
        <!-- End menu -->
    </div>
    <!-- Profile Modal -->

    <style>
        .modal-backdrop {
          z-index: 1000 !important; 
          background-color: rgba(0, 0, 0, 0.3) !important;
        }
        .modal {
          z-index: 1050 !important;
        }
        .modal-backdrop.show {
          background-color: rgba(0, 0, 0, 0.3);
        }
      </style>
      
    <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content shadow-lg border-0 rounded-4">

                <div class="modal-header bg-primary text-white rounded-top">
                    <h5 class="modal-title" id="profileModalLabel">
                        <i class="fa fa-user-circle me-2"></i>Profile Details
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                
                <div class="modal-body p-4">
                    <div class="row g-4">
                        <div class="col-md-4 text-center">
                            {% if user.employee_profile.photo %}
                            <img src="{{ user.employee_profile.photo.url }}" 
                                class="img-fluid rounded-circle shadow" 
                                style="width: 150px; height: 150px; cursor: pointer;" 
                                alt="User Photo"
                                data-bs-toggle="modal" data-bs-target="#photoModal">
                            {% else %}
                            <!-- Fallback Icon -->
                            <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 150px; height: 150px;">
                                <i class="fa fa-user-alt fa-3x text-muted"></i>
                            </div>
                            {% endif %}
                            <h5 class="mt-3">{{ user.employee_profile.employee_name }}</h5>
                            <span class="text-muted">{{ user.employee_profile.position }}</span>
                        </div>

                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-sm-6 mb-3"><strong>Email:</strong> {{ user.email }}</div>
                                <div class="col-sm-6 mb-3"><strong>Phone:</strong> {{ user.employee_profile.phone }}</div>
                                <div class="col-sm-6 mb-3"><strong>Alt. Phone:</strong> {{ user.employee_profile.phone_2|default:"N/A" }}</div>
                                <div class="col-sm-6 mb-3"><strong>Ghana Card:</strong> {{ user.employee_profile.ghana_card }}</div>
                                <div class="col-sm-6 mb-3"><strong>Date of Birth:</strong> {{ user.employee_profile.date_of_birth }}</div>
                                <div class="col-sm-6 mb-3"><strong>Gender:</strong> {{ user.employee_profile.gender }}</div>
                                <div class="col-sm-6 mb-3"><strong>Department:</strong> {{ user.employee_profile.department }}</div>
                                <div class="col-sm-6 mb-3"><strong>Hire Date:</strong> {{ user.employee_profile.hire_date }}</div>

                                {% if user.employee_profile.license_number %}
                                    <div class="col-sm-6 mb-3"><strong>License Number:</strong> {{ user.employee_profile.license_number }}</div>
                                    <div class="col-sm-6 mb-3"><strong>License Expiry:</strong> {{ user.employee_profile.license_expiry_date }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-0 pt-0">
                    <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="photoModal" tabindex="-1" aria-labelledby="photoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content bg-transparent border-0">
            <div class="modal-body text-center">
                {% if user.employee_profile.photo %}
                    <img src="{{ user.employee_profile.photo.url }}" class="img-fluid rounded shadow" alt="Full-size Photo" style="width: 500px; height: 500px;" >
                {% else %}
                    <p class="text-muted">No photo available.</p>
                    <!-- Optionally show a placeholder -->
                    <img src="{% static 'images/default-profile.png' %}" class="img-fluid rounded shadow" alt="Default Photo" style="width: 500px; height: 500px;" >
                {% endif %}
                </div>

          </div>
        </div>
    </div>
</header>
